function openNav(){document.getElementById("mySidenav").style.width="100%",$("body").css("overflow","hidden")}function closeNav(){document.getElementById("mySidenav").style.width="0",$("body").css("overflow","auto")}function journeyDataLayer(){var body;window.journeyData="JM REGULAR",document.getElementsByTagName("body")[0].classList.contains("store-pickup")&&(window.journeyData="JM STORE PICK UP")}function pincodePurelyGtmEvents(){if("undefined"!=typeof AllPagePurelyGtmEvents){var event="event_all_pages",category="header",action="pincode applied",label="header_pincode_applied";pincode=$("#rel_pincode").val(),pincode&&6==pincode.length&&($("#rel_pin_msg").hasClass("form_error")||AllPagePurelyGtmEvents(event,"header",action,label,"","","",pincode));var pickup_pincode=$("#pickup_pin").val();pickup_pincode&&6==pickup_pincode.length&&($("#pickup_pin_msg").hasClass("form_error")||AllPagePurelyGtmEvents(event,"header",action,label,"","","",pickup_pincode))}}$(document).ready((function(e){void 0!==journeyDataLayer&&journeyDataLayer()}));var domain_url=window.location.origin+"/";$(document).ready((function(){var url_pincode=$("#url_pincode").val(),url,pin=(url=new Url).query.pin,pinregex,valid=/^[0-9]{6}$/.test(pin);1==url_pincode&&valid&&localStorage.getItem("nms_mgo_pincode")!=pin?getCityDetails(pin,!0,!1,!1,!1):localStorage.getItem("nms_mgo_pincode")||getCityDetails(pin=window.default_pin,!0,!1,!1,!1),getMainNavigation(),localStorage.getItem("reserved_pincode")&&(localStorage.setItem("nms_mgo_pincode",localStorage.getItem("reserved_pincode")),localStorage.removeItem("reserved_pincode")),"0"==window.location_api&&$(".detect_location").hide(),0!=localStorage.getItem("userid")&&null!=localStorage.getItem("userid")?$(".saved_location_swiper").show():$(".signin_btn").show(),localStorage.removeItem("retry_cartid");var rg_code_expiry=localStorage.getItem("jio_region_code_expiry"),reg_today=new Date,reg_expiry_date=new Date(rg_code_expiry);if(reg_today.getTime()>reg_expiry_date.getTime()){var pin=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(pin=localStorage.getItem("nms_mgo_pincode")),getCityDetails(pin,!0,!1,!1,!1)}var get_inv_code=!1;localStorage.getItem("jio_inventory_store_code")||(get_inv_code=!0);var inv_expiry=localStorage.getItem("jio_inventory_code_expiry"),inv_today=new Date,inv_expiry_date=new Date(inv_expiry);if(inv_today.getTime()>inv_expiry_date.getTime()&&(get_inv_code=!0),1==get_inv_code){var pincode=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(pincode=localStorage.getItem("nms_mgo_pincode")),get_inventory_code(pincode)}var swiper=new Swiper(".similar-product-swipe",{slidesPerView:4,spaceBetween:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),swiper=new Swiper(".seller_info",{slidesPerView:"auto",spaceBetween:0});$(".sellerinfo_tab").click((function(){if(!$(this).hasClass("active")){$(".sellerinfo_cont").fadeOut(),$(".sellerinfo_cont").hide();var dataid=$(this).attr("data-id");$("#"+dataid).fadeIn(),$("#"+dataid).show(),$(".sellerinfo_tab").removeClass("active"),$(this).addClass("active")}})),$(".offer-tab.active").show();var url,attr=(url=new Url).query.source_attribution,source=url.query.utm_source,medium=url.query.utm_medium,utm_campaign=url.query.utm_campaign,nmsUTMtrackingsource="";if(attr&&($.cookie("_rsAttr",attr,{expires:365,path:"/"}),nmsUTMtrackingsource+=attr+"&"),source&&($.cookie("_rsSource",source,{expires:365,path:"/"}),nmsUTMtrackingsource+=source+"&"),medium&&($.cookie("_rsMedium",medium,{expires:365,path:"/"}),nmsUTMtrackingsource+=medium+"&"),utm_campaign&&($.cookie("_rsCampaign",utm_campaign,{expires:365,path:"/"}),nmsUTMtrackingsource+=utm_campaign),nmsUTMtrackingsource){$.cookie("_rsUTMtrackingsource",nmsUTMtrackingsource,{expires:365,path:"/"});var previous_track="";attr&&((previous_track=$.cookie("_rstracking"))?previous_track.indexOf(attr)>=0||(previous_track+=" | "+attr,$.cookie("_rstracking",previous_track,{expires:365,path:"/"})):$.cookie("_rstracking",attr,{expires:365,path:"/"}))}}));const deals_int=setInterval((function(){var stTime=new Date((new Date).setHours(0,0,0,0)).getTime(),endTime=new Date((new Date).setHours(23,59,59,59)).getTime(),currentTime,progress=(endTime-(new Date).getTime())/1e3,hours,minutes,seconds,result_time=parseInt(progress/3600)+"h "+parseInt(progress/60)%60+"m "+parseInt(progress%60,10)+"s";$(".cd_timer_deal").text(result_time);var total_seconds,percent=100-progress/Math.floor((endTime-stTime)/1e3)*100;$(".result_progress").attr("style","width: "+percent+"% !important")}),1e3);function get_inventory_code(pincode){var pincode_url="/collection/mcat_pincode/get_mcat_inventory_code/"+pincode;$.ajax({url:pincode_url,method:"GET",async:!1,data:{},dataType:"JSON",success:function(resp){var inv_today=new Date;inv_today.setHours(inv_today.getHours()+1),localStorage.setItem("jio_inventory_store_code",JSON.stringify(resp.store_codes)),localStorage.setItem("jio_inventory_code_expiry",inv_today),localStorage.setItem("jio_region_codes",JSON.stringify(resp.region_codes));var reg_today=new Date;reg_today.setHours(reg_today.getHours()+12),localStorage.setItem("jio_region_code_expiry",reg_today)},error:function(){}})}function getMainNavigation(){var pincode=window.default_pin;localStorage.getItem("nms_mgo_pincode")&&(pincode=localStorage.getItem("nms_mgo_pincode"));let source=window.navigation.source,ajax_data={};var treejson_url="/catalog/tree_json_plp/"+source;$.ajax({url:treejson_url,method:"GET",headers:{pin:pincode},data:ajax_data,dataType:"JSON",success:function(resp){if(""!=resp){let allowed_cats=window.navigation.allowed_cats.split(","),cat_tree=[];if("mstar"==source)for(i in allowed_cats)resp.map((function(main){main.id==allowed_cats[i]&&main.aggregate_product_count>0&&cat_tree.push(main),main.sub_categories.map((function(sub_cat){sub_cat.id==allowed_cats[i]&&sub_cat.aggregate_product_count>0&&cat_tree.push(sub_cat)}))}));else cat_tree=resp;$("#web_menu_loader").remove();let nav_html=cat_tree.map((function(main_cat){let ret_html="";return main_cat.aggregate_product_count>0&&(ret_html+=`<li class="o-menu" id="nav_cat_${main_cat.id}"><a id="nav_link_${main_cat.id}" href="/${main_cat.url_path}">${main_cat.name}</a>`,main_cat.sub_categories&&main_cat.sub_categories.length>0&&(ret_html+='<ul class="navigation_submenu">',main_cat.sub_categories.map((function(sub_cat){sub_cat.aggregate_product_count>0&&(ret_html+=`<li id="nav_sub_cat_${sub_cat.id}"><a id="nav_link_${sub_cat.id}" href="/${sub_cat.url_path}">${sub_cat.name}</a></li>`)})),ret_html+="</ul>"),ret_html+="<li>"),ret_html})).join("");$(".explorer-menu ul").append(nav_html)}else $("#web_menu_loader").remove()},error:function(){$("#web_menu_loader").remove()}})}function get_address_details(){if(0!=localStorage.getItem("userid")&&null!=localStorage.getItem("userid")){var authtoken=localStorage.getItem("authtoken"),userid=localStorage.getItem("userid");if($("#delivery_txt").text("Select pincode to see product availability."),$(".pincode_availablity").hide(),authtoken&&userid){$(".saved_location_swiper").show();var def_addr_id=0,domain_url=$("#mstar_api_baseurl").val(),def_addr_api=domain_url+"entity/customer/get_details";$.ajax({url:def_addr_api,data:{},headers:{userid:userid,authtoken:authtoken},method:"GET",dataType:"JSON",success:function(resp){if("success"==resp.status){resp.result.your_details.preferred_shipping_address&&(def_addr_id=resp.result.your_details.preferred_shipping_address);var url=domain_url+"address/v2/get/all";$.ajax({url:url,data:{},headers:{userid:userid,authtoken:authtoken},method:"GET",dataType:"JSON",success:function(resp){if("success"==resp.status){if(resp.result.address_list){var address_list=resp.result.address_list;if(address_list.length>0){var add_tmpl="",isActive=0,default_preferred_id="",addIndex=address_list.findIndex(x=>x.id===def_addr_id),swapArrayElements;if(addIndex&&addIndex>0)(function(address_list,indexA,indexB){var temp=address_list[indexA];address_list[indexA]=address_list[indexB],address_list[indexB]=temp})(address_list,0,addIndex);$(address_list).each((function(i,address){if(1==address.is_active&&0==address.subs_eligible){let addr_class="";if(def_addr_id==address.id){addr_class="def_addr","yes"==localStorage.getItem("is_default_addr")&&(addr_class+=" active");var popupPincode=localStorage.getItem("jio_popup_pincode");null!=popupPincode&&"yes"==popupPincode||address.pin&&""!=address.pin&&(localStorage.setItem("nms_mgo_pincode",address.pin),$("#delivering_to").val(address.pin))}add_tmpl+=`<div class="swiper-slide ${addr_class}" data-id="${address.id}" data-pin="${address.pin}">`,add_tmpl+=`\n                                                        <div class="address">\n                                                            <h1 class="ellipsis">${address.addressee_name}</h1>\n                                                            <span class="pin_code">${address.pin}</span>\n                                                            <span class="adText streetinfo">\n                                                                ${address.area_name},\n                                                                ${address.building_address},\n                                                            </span>\n                                                            <span class="adText cityinfo">\n                                                                ${address.city}, ${address.state}\n                                                            </span>\n                                                            ${def_addr_id==address.id?'<span class="default_addr">Default Address</span>':""}\n                                                        </div>\n                                                    </div>`}})),$(".saved_location_swiper .swiper-wrapper").html(add_tmpl),$("#saved_addresses .def_addr").prependTo(".saved_location_swiper .swiper-wrapper"),$("#saved_addresses .active").prependTo(".saved_location_swiper .swiper-wrapper");var pin_swiper=new Swiper(".saved_location_swiper",{observer:!0,observeParents:!0,slidesPerView:"auto",spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}else $(".saved_location_swiper").hide()}}else $(".saved_location_swiper").hide(),$(".signin_btn").show()},error:function(){$(".saved_location_swiper").hide(),$(".signin_btn").show()}}),"yes"==localStorage.getItem("show_pincode_popup")&&($(".jio_delivery_popup").before('<div class="overlay_bg"></div>'),$(".jio_delivery_popup").show(),localStorage.removeItem("show_pincode_popup"))}else $(".saved_location_swiper").hide(),$(".signin_btn").show()},error:function(){$(".saved_location_swiper").hide(),$(".signin_btn").show()}})}else $(".signin_btn").show(),"yes"==localStorage.getItem("show_pincode_popup")&&($(".jio_delivery_popup").before('<div class="overlay_bg"></div>'),$(".jio_delivery_popup").show(),localStorage.removeItem("show_pincode_popup"))}else $(".signin_btn").show(),"yes"==localStorage.getItem("show_pincode_popup")&&($(".jio_delivery_popup").before('<div class="overlay_bg"></div>'),$(".jio_delivery_popup").show(),localStorage.removeItem("show_pincode_popup"))}function getLatLonAPI(pincode){var geocoder;(new google.maps.Geocoder).geocode({componentRestrictions:{country:"IN",postalCode:pincode.toString()}},(function(results,status){if("OK"===status)if(results[0]){var results=JSON.stringify(results[0]),results;if((results=JSON.parse(results)).geometry&&results.geometry.location){var lat=results.geometry.location.lat,lon=results.geometry.location.lng;localStorage.setItem("jio_addr_lat",lat),localStorage.setItem("jio_addr_lon",lon)}}else localStorage.setItem("jio_addr_lat","0"),localStorage.setItem("jio_addr_lon","0");else localStorage.setItem("jio_addr_lat","0"),localStorage.setItem("jio_addr_lon","0")}))}function setDefaultShippingAddress(pin,address_id,noload=!0){if(address_id){var domain_url,url=$("#mstar_api_baseurl").val()+"entity/customer/set_preferred_shipping_address/"+address_id,authtoken=localStorage.getItem("authtoken"),userid=localStorage.getItem("userid");$.ajax({url:url,data:{},headers:{userid:userid,authtoken:authtoken},method:"GET",dataType:"JSON",success:function(resp){"success"==resp.status&&setDefaultBillingAddress(pin,address_id,noload)},error:function(xhr,status,error){}})}}function setDefaultBillingAddress(pin,address_id,noload=!0){if(address_id){var domain_url,url=$("#mstar_api_baseurl").val()+"entity/customer/set_preferred_billing_address/"+address_id,authtoken=localStorage.getItem("authtoken"),userid=localStorage.getItem("userid");$.ajax({url:url,data:{},headers:{userid:userid,authtoken:authtoken},method:"GET",dataType:"JSON",success:function(resp){"success"==resp.status&&getCityDetails(pin,!0,!1,!0,noload)},error:function(xhr,status,error){}})}}function getCityDetails(pincode,setcookie,showcity,default_addr,noload=!0){var pinregex,valid=/^[0-9]{6}$/.test(pincode);if($("#detect_location_msg").text(""),$("#rel_pin_msg").removeClass().html('<div id="delivery_popup_load"><div class="delivery_popup_loader">&nbsp;</div></div>'),setcookie&&$("#rel_pincode_form .apply_btn").prop("disabled",!0).css("opacity","0.5"),""==pincode)$("#rel_pin_msg").addClass("form-error").html("Enter your pincode");else if(valid){var pincode_api=$("#mst_api_cart_pin_baseurl").val();$.ajax({url:pincode_api+"pin/"+pincode,method:"GET",async:!1,dataType:"JSON",success:function(resp){if("success"==resp.status){var result=resp.result,master_codes=result.master_codes,supported=!1,pincode=result.pin;for(vertical in master_codes)null!=master_codes[vertical]&&(supported=!0);if(1==supported){var message=result.city+", "+result.state_name;if(showcity&&$("#rel_pin_msg").removeClass().html(message),setcookie){$("#delivery_details").html("<span>"+pincode+"</span>"),$.cookie("nms_mgo_pincode",pincode,{path:"/",expires:30}),$.cookie("nms_mgo_city",result.city,{path:"/",expires:30}),$.cookie("nms_mgo_state_code",result.state_code,{path:"/",expires:30}),localStorage.setItem("nms_mgo_pincode",pincode),localStorage.setItem("nms_mgo_city",result.city),localStorage.setItem("nms_mgo_state_code",result.state_code),localStorage.setItem("jio_vertical_city_code",JSON.stringify(result.master_codes)),localStorage.setItem("is_default_pin","no"),localStorage.setItem("jio_popup_pincode","yes"),localStorage.removeItem("jio_personalised_products"),localStorage.removeItem("jio_personalised_products_expiry"),localStorage.removeItem("jio_pickup_stores"),localStorage.removeItem("is_pickup_supported"),localStorage.removeItem("jio_store_id");var lat=0,lon=0;if(result.lat&&0!=result.lat&&(lat=result.lat,localStorage.setItem("jio_addr_lat",lat)),result.lon&&0!=result.lon&&(lon=result.lon,localStorage.setItem("jio_addr_lon",lon)),0!=lat&&0!=lon||getLatLonAPI(pincode),default_addr?localStorage.setItem("is_default_addr","yes"):localStorage.setItem("is_default_addr","no"),get_inventory_code(pincode),$(".jio_delivery_popup").hide(),1==noload){pincodePurelyGtmEvents();let url_c=new Url;url_c.query&&url_c.query.pin&&delete url_c.query.pin,window.location.href=url_c.toString()}else $("#rel_pincode_form .apply_btn").prop("disabled",!1).css("opacity","1")}}else{if("vertical"==noload){var pincode=window.default_pin;localStorage.setItem("nms_mgo_pincode",pincode),$.cookie("nms_mgo_pincode",pincode,{path:"/",expires:30}),localStorage.setItem("jio_region_codes",JSON.stringify(window.default_vertical_city_code)),pincodePurelyGtmEvents();let url_c=new Url;url_c.query&&url_c.query.pin&&delete url_c.query.pin,window.location.href=url_c.toString()}var message="We are currently not delivering at this location. We shall be back soon.";$("#rel_pin_msg").removeClass().addClass("form-error").html(message),$("#rel_pincode_form .apply_btn").prop("disabled",!1).css("opacity","1")}}else $("#rel_pin_msg").removeClass().addClass("form-error").html("Unable to fetch delivery details"),$("#rel_pincode_form .apply_btn").prop("disabled",!1).css("opacity","1")},error:function(xhr,status,error){var resp=xhr.responseJSON;if("fail"==resp.status){var message=resp.reason.reason_eng;"NOT_FOUND"==resp.reason.reason_code&&(message="We are currently not delivering at this location. We shall be back soon."),$("#rel_pin_msg").removeClass().addClass("form-error").html(message)}else $("#rel_pin_msg").removeClass().addClass("form-error").html("Unable to fetch delivery details");$("#rel_pincode_form .apply_btn").prop("disabled",!1).css("opacity","1")}})}else $("#rel_pin_msg").addClass("form-error").html("Invalid pincode")}function getDetectCityDetails(pincode,setcookie,showcity,default_addr){var pinregex,valid=/^[0-9]{6}$/.test(pincode);if(""==pincode)$("#rel_pin_msg").addClass("form-error").html("Unable to detect pincode. Enter your pincode");else if(valid){var pincode_api=$("#mst_api_cart_pin_baseurl").val();$.ajax({url:pincode_api+"pin/"+pincode,method:"GET",dataType:"JSON",success:function(resp){if($("#rel_pincode").val(pincode),"success"==resp.status){var result=resp.result,message=result.city+", "+result.state_name;showcity&&$("#rel_pin_msg").removeClass().html(message)}else $("#rel_pin_msg").removeClass().addClass("form-error").html("Unable to fetch delivery details")},error:function(xhr,status,error){$("#rel_pincode").val(pincode);var resp=xhr.responseJSON;if("fail"==resp.status){var message=resp.reason.reason_eng;"NOT_FOUND"==resp.reason.reason_code&&(message="We are currently not delivering at this location. We shall be back soon."),$("#rel_pin_msg").removeClass().addClass("form-error").html(message)}else $("#rel_pin_msg").removeClass().addClass("form-error").html("Unable to fetch delivery details")}})}else $("#rel_pincode").val(pincode),$("#rel_pin_msg").addClass("form-error").html("Invalid pincode")}function perform_btn_action(){var url=$("#copy_code").attr("data-url");""!=url?window.location.href=url:$("#search").get(0).focus()}function notify(msg,type){$.notify({message:msg,icon:"fa fa-check-circle circlr"},{element:"body",position:null,type:type,allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"bottom",align:"center"},animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})}$(window).on("load",(function(){$("body").hasClass("gift-page")?localStorage.getItem("gift_pincode_popup")||($(".jio_delivery_popup").before('<div class="overlay_bg"></div>'),$(".jio_delivery_popup").show(),localStorage.setItem("gift_pincode_popup","1")):null===localStorage.getItem("is_default_pin")&&($(".jio_delivery_popup").before('<div class="overlay_bg"></div>'),$(".jio_delivery_popup").show())})),$("#rel_pincode").on("keypress keyup change",(function(){$(this).val().length>0&&$("#rel_pincode_form .apply_btn").prop("disabled",!1).css("opacity","1")})),$("#rel_pincode").on("input",(function(event){var pincode=$(this).val();6==pincode.length?getCityDetails(pincode,!1,!0,!1):$("#rel_pin_msg").removeClass().html("")})),$("#rel_pincode").keypress((function(event){var charCode=event.which?event.which:event.keyCode;return charCode>=37&&charCode<=40||(46==charCode||!(charCode>31&&(charCode<48||charCode>57))&&void 0)})),$("#rel_pincode_form").submit((function(ev){ev.preventDefault();var pincode=$("#rel_pincode").val();if(0!=localStorage.getItem("userid")&&null!=localStorage.getItem("userid")){var pin_match=!1;$("#saved_addresses .swiper-slide").each((function(i,el){var el_pin=$(el).attr("data-pin");if(pincode==el_pin)return localStorage.setItem("pincode_exist","yes"),$(el).trigger("click"),pin_match=!0,!1})),0==pin_match&&(localStorage.setItem("pincode_exist","no"),getCityDetails(pincode,!0,!0,!1))}else getCityDetails(pincode,!0,!0,!1)})),$(".signin_btn").click((function(ev){ev.preventDefault(),localStorage.setItem("redirectUrl","/"),localStorage.setItem("show_pincode_popup","yes"),window.location.href="/customer/account/login"})),$(document).on("click",".overlay_bg",(function(){localStorage.setItem("is_default_pin","no"),$(this).remove(),$(".jio_delivery_popup").hide()})),$(".detect_location").click((function(){if($("#detect_location_msg").text(""),$("#rel_pincode_form .apply_btn").prop("disabled",!1).css("opacity","1"),navigator.geolocation){var geocoder=new google.maps.Geocoder;navigator.geolocation.getCurrentPosition((function(p){var LatLng=new google.maps.LatLng(p.coords.latitude,p.coords.longitude);geocoder.geocode({location:LatLng},(function(results,status){if("OK"===status){if(results[0])if(results[0].address_components){var address_components=results[0].address_components;for(i=0;i<address_components.length;i++){var types,pincode;if(address_components[i].types)if(address_components[i].types.indexOf("postal_code")>=0)getDetectCityDetails(address_components[i].long_name,!0,!0,!1)}}else $("#detect_location_msg").removeClass().addClass("form-error").html("Not Detected")}else $("#detect_location_msg").removeClass().addClass("form-error").html("Not Detected")}))}))}else $("#rel_pin_msg").addClass("form-error").html("Sorry, your browser does not support HTML5 geolocation.")})),$(document).on("click tap",".saved_location_swiper .swiper-slide",(function(){var pin,id;localStorage.setItem("pincode_exist","yes"),setDefaultShippingAddress($(this).attr("data-pin"),$(this).attr("data-id"))})),$("#rel_search_list_btn").click((function(){$("#rel_search_list_box").toggle()})),$("#rel_search_list_box .close").click((function(){$("#rel_search_list_box").hide()})),$("#rel_search_form").submit((function(ev){ev.preventDefault();var list=$("#rel_search_val").val().replace(/\r?\n/g,",");if(""!=list){list=(list=list.replace(/,+/g,",")).replace(/^,|,$/g,""),list=encodeURIComponent(list);var url="";url="plp"==page_type?"/catalogsearch/result_plp?q="+list:"/catalogsearch/result?q="+list,localStorage.getItem("jio_store_id")&&(url+="&str_id="+localStorage.getItem("jio_store_id")),window.location.href=url}})),$(".terms-click").click((function(){if($(this).hasClass("active")){$(this).removeClass("active");var dataid=$(this).attr("data-id");$("#tab_"+dataid).hide("slow").removeClass("active")}else{$(".offer-tab").hide("slow");var dataid=$(this).attr("data-id");$("#tab_"+dataid).show("slow"),$(".terms-click").removeClass("active"),$(this).addClass("active")}})),$("#copy_code").click((function(){var coupon_code;""!=$(this).attr("data-clipboard-text")?(new ClipboardJS("#copy_code"),$("#copy_message").fadeIn("slow",(function(){$(this).delay(1e3).fadeOut("slow",(function(){perform_btn_action()}))}))):perform_btn_action()})),$(".terms").on("click",(function(){$(".offer_terms_and_conditions").slideUp(),$(".terms").removeClass("active"),$(this).next(".offer_terms_and_conditions").is(":visible")||($(this).next(".offer_terms_and_conditions").slideDown(),$(this).addClass("active"))})),$(window).scroll((function(){var scroll;$(window).scrollTop()>=250?$(".testimenu").addClass("test_menu_fixed"):$(".testimenu").removeClass("test_menu_fixed")})),$(document).ready((function(){var cart_count=localStorage.getItem("nms_cart_count");null==cart_count&&(cart_count=0),cart_count>0?$(".mini-cart .counter-number").text(cart_count).show():$(".mini-cart .counter-number").text(cart_count).hide()})),$(document).on("click",".close.btcls",(function(){$(".nmsalert").remove()})),$(window).on("scroll",(function(){$(this).scrollTop()>90?$(".top-section").addClass("header-shadow"):$(".top-section").removeClass("header-shadow")})),$(document).ready((function(){var localPincode,pincode;if(null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")&&(localStorage.getItem("is_default_pin")||localStorage.setItem("is_default_pin","no")),null!=localStorage.getItem("nms_mgo_pincode"))if(localStorage.getItem("jio_addr_lat"));else{var pincode=localStorage.getItem("nms_mgo_pincode"),default_addr=!1;"yes"==localStorage.getItem("is_default_addr")&&(default_addr=!0),getCityDetails(pincode,!0,!1,default_addr,!1)}else{var default_pin=!0,pincode=window.default_pin;$.cookie("nms_mgo_pincode",pincode,{path:"/",expires:30}),localStorage.setItem("nms_mgo_pincode",pincode);var city=window.default_city;localStorage.getItem("nms_mgo_city")&&(city=localStorage.getItem("nms_mgo_city")),$.cookie("nms_mgo_city",city,{path:"/",expires:30}),localStorage.setItem("nms_mgo_city",city);var state=window.default_state;localStorage.getItem("nms_mgo_state_code")&&(state=localStorage.getItem("nms_mgo_state_code")),$.cookie("nms_mgo_state_code",state,{path:"/",expires:30}),localStorage.setItem("nms_mgo_state_code",state)}localStorage.getItem("jio_region_codes")||(localStorage.getItem("nms_mgo_pincode")?getCityDetails(pincode=localStorage.getItem("nms_mgo_pincode"),!0,!1,!1,"vertical"):localStorage.setItem("jio_region_codes",JSON.stringify(window.default_vertical_city_code)));var delivery_msg="",pincode;localStorage.getItem("nms_mgo_pincode")?delivery_msg+="<span>"+localStorage.getItem("nms_mgo_pincode")+"</span>":delivery_msg+="<span>"+(pincode=window.default_pin)+"</span>";$("#delivery_details").html(delivery_msg)}));var first_click=!0;function SwiperDataLayer(element,index,type){if(void 0!==journeyDataLayer&&journeyDataLayer(),"product"==type){var cateTitle="Category List",mainCategory="",bannerArray=[],dimension19="FALSE",dimension20=null,dimension18=null,dimension21="RRL",dimension22=!1;let productJson={};if(element){if($(element).closest("section").attr("data-tracker"))var nms_product_tracker=$(element).closest("section").attr("data-tracker");else var nms_product_tracker=$(element).closest("section").find("h1").text().trim(" ");null!=nms_product_tracker&&null!=nms_product_tracker&&""!=nms_product_tracker&&(cateTitle=nms_product_tracker);var data_vertical=null!=$(element).find(".data-vertical").val()?$(element).find(".data-vertical").val():"";if(null!=data_vertical&&(mainCategory=data_vertical),null!=$(element).find(".data-cate").val()&&(mainCategory+="/"+$(element).find(".data-cate").val()),null!=$(element).find(".data-subcate").val()&&(mainCategory+="/"+$(element).find(".data-subcate").val()),!$.isEmptyObject(window.searchKeyData)){var sku=$(element).find("a:first").attr("data-objid");$.each(JSON.parse(window.searchKeyData),(function(itemIndex,itemElement){sku&&itemIndex==sku&&(itemElement.hasOwnProperty("dimension19")&&(dimension19=itemElement.dimension19),itemElement.hasOwnProperty("dimension21")&&(dimension21=itemElement.dimension21),itemElement.hasOwnProperty("dimension22")&&(dimension22=itemElement.dimension22)),itemElement.hasOwnProperty("dimension20")&&(dimension20=itemElement.dimension20),itemElement.hasOwnProperty("dimension18")&&(dimension18=itemElement.dimension18)}))}null!=$(element).find(".data-sellername").val()&&(dimension21=$(element).find(".data-sellername").val()),null!=$(element).find(".data-3p-available").val()&&(dimension22=$(element).find(".data-3p-available").val()),cateTitle&&(dimension18=cateTitle),productJson={name:$(element).find("a:first").attr("title"),id:$(element).find("a:first").attr("data-objid"),price:$(element).find(".final_price").text().replace("₹","").trim(" "),brand:null!=$(element).find(".data-manu").val()?$(element).find(".data-manu").val():"",list:cateTitle,category:mainCategory,position:index+1,dimension18:dimension18,dimension19:dimension19,dimension20:dimension20,dimension21:"RRL",dimension22:!1,dimension24:null,dimension25:null,dimension26:null,dimension27:null},""!=dimension21&&null!=dimension21&&"RIL"!=dimension21&&(productJson.dimension21=dimension21),""!=dimension22&&0!=dimension22&&null!=dimension22&&(productJson.dimension22="string"!=typeof dimension22||"1"!==dimension22||Boolean(parseInt(dimension22))),bannerArray.push(productJson)}if(bannerArray.length>0){var custEmail=null!=localStorage.getItem("displayemail")?localStorage.getItem("displayemail"):"",custNew=null!=localStorage.getItem("new_customer")?localStorage.getItem("new_customer"):"",cityName=null!=localStorage.getItem("nms_mgo_city")?localStorage.getItem("nms_mgo_city").toUpperCase():"NA",pincode=null!=localStorage.getItem("nms_mgo_pincode")?localStorage.getItem("nms_mgo_pincode").toUpperCase():"NA";""!=user_id&&""!=custEmail?(dataLayer.push({ecommerce:null}),dataLayer.push({event:"ecom_productImpression",journey:window.journeyData,ecommerce:{currencyCode:"INR",impressions:bannerArray},customer:{isLoggedIn:!0,id:user_id,email:$.md5(custEmail),new_customer:custNew,city:cityName}})):(dataLayer.push({ecommerce:null}),dataLayer.push({event:"ecom_productImpression",journey:window.journeyData,ecommerce:{currencyCode:"INR",impressions:bannerArray},customer:{isLoggedIn:!1,city:cityName}}))}}else if("banner_img"==type){var slideArray=[],id="";$(element).attr("id")&&(id=$(element).attr("id").replace("rb_slide_","")),$(element).attr("data-slideid")&&(id=$(element).attr("data-slideid").replace("rb_slide_","")),$(element).find("ins").attr("data-adspot-key")&&(id=$(element).find("ins").attr("data-adspot-key"));var position="";$(element).closest("section").attr("id")&&(position=$(element).closest("section").attr("id").replace("section_","")),$(element).closest("section").attr("data-id")&&(position=$(element).closest("section").attr("data-id").replace("section_","")),slideArray.push({id:id,name:null!=$(element).find("img").attr("title")?$(element).find("img").attr("title"):"",creative:null!=$(element).find("img")[0].clientWidth&&null!=$(element).find("img")[0].clientHeight?$(element).find("img")[0].clientWidth+"x"+$(element).find("img")[0].clientHeight:"",position:position+"_"+(index+1)}),slideArray.length>0&&(dataLayer.push({ecommerce:null}),dataLayer.push({event:"ecom_promotionImpression",journey:window.journeyData,ecommerce:{promoView:{promotions:slideArray}}}))}}function ProductSwiperDataLayer(elements,type){if(void 0!==journeyDataLayer&&journeyDataLayer(),"product"==type){var cateTitle="Category List",mainCategory="",bannerArray=[],dimension19="FALSE",dimension20=null,dimension18=null,dimension21="RRL",dimension22=!1;let productJson={};if($.each(elements,(function(index,element){if(element){if($(element).closest("section").attr("data-tracker"))var nms_product_tracker=$(element).closest("section").attr("data-tracker");else var nms_product_tracker=$(element).closest("section").find("h1").text().trim(" ");null!=nms_product_tracker&&null!=nms_product_tracker&&""!=nms_product_tracker&&(cateTitle=nms_product_tracker);var data_vertical=null!=$(element).find(".data-vertical").val()?$(element).find(".data-vertical").val():"";if(null!=data_vertical&&(mainCategory=data_vertical),null!=$(element).find(".data-cate").val()&&(mainCategory+="/"+$(element).find(".data-cate").val()),null!=$(element).find(".data-subcate").val()&&(mainCategory+="/"+$(element).find(".data-subcate").val()),!$.isEmptyObject(window.searchKeyData)){var sku=$(element).find("a:first").attr("data-objid");$.each(JSON.parse(window.searchKeyData),(function(itemIndex,itemElement){sku&&itemIndex==sku&&(itemElement.hasOwnProperty("dimension19")&&(dimension19=itemElement.dimension19),itemElement.hasOwnProperty("dimension21")&&(dimension21=itemElement.dimension21),itemElement.hasOwnProperty("dimension22")&&(dimension22=itemElement.dimension22)),itemElement.hasOwnProperty("dimension20")&&(dimension20=itemElement.dimension20),itemElement.hasOwnProperty("dimension18")&&(dimension18=itemElement.dimension18)}))}null!=$(element).find(".data-sellername").val()&&(dimension21=$(element).find(".data-sellername").val()),null!=$(element).find(".data-3p-available").val()&&(dimension22=$(element).find(".data-3p-available").val()),cateTitle&&(dimension18=cateTitle),productJson={name:$(element).find("a:first").attr("title"),id:$(element).find("a:first").attr("data-objid"),price:$(element).find(".final_price").text().replace("₹","").trim(" "),brand:null!=$(element).find(".data-manu").val()?$(element).find(".data-manu").val():"",list:cateTitle,category:mainCategory,position:index+1,dimension18:dimension18,dimension19:dimension19,dimension20:dimension20,dimension21:"RRL",dimension22:!1,dimension24:null,dimension25:null,dimension26:null,dimension27:null},""!=dimension21&&null!=dimension21&&"RIL"!=dimension21&&(productJson.dimension21=dimension21),""!=dimension22&&0!=dimension22&&null!=dimension22&&(productJson.dimension22="string"!=typeof dimension22||"1"!==dimension22||Boolean(parseInt(dimension22))),bannerArray.push(productJson)}})),bannerArray.length>0){var custEmail=null!=localStorage.getItem("displayemail")?localStorage.getItem("displayemail"):"",custNew=null!=localStorage.getItem("new_customer")?localStorage.getItem("new_customer"):"",cityName=null!=localStorage.getItem("nms_mgo_city")?localStorage.getItem("nms_mgo_city").toUpperCase():"NA",pincode=null!=localStorage.getItem("nms_mgo_pincode")?localStorage.getItem("nms_mgo_pincode").toUpperCase():"NA";""!=user_id&&""!=custEmail?(dataLayer.push({ecommerce:null}),dataLayer.push({event:"ecom_productImpression",journey:window.journeyData,ecommerce:{currencyCode:"INR",impressions:bannerArray},customer:{isLoggedIn:!0,id:user_id,email:$.md5(custEmail),new_customer:custNew,city:cityName}})):(dataLayer.push({ecommerce:null}),dataLayer.push({event:"ecom_productImpression",journey:window.journeyData,ecommerce:{currencyCode:"INR",impressions:bannerArray},customer:{isLoggedIn:!1,city:cityName}}))}}}function bannerPromoTag(e){if(window.dimension18=null,window.dimension24=null,window.dimension25=null,window.dimension26=null,window.dimension27=null,!$.isEmptyObject(window.bannerKeyData)){var DataKey=JSON.parse(window.bannerKeyData);DataKey.hasOwnProperty("dimension18")&&(window.dimension18=DataKey.dimension18,null!=window.nms_tracker&&null!=window.nms_tracker&&""!=window.nms_tracker&&(window.nms_tracker=window.dimension18)),DataKey.hasOwnProperty("dimension24")&&(window.dimension24=DataKey.dimension24),DataKey.hasOwnProperty("dimension25")&&(window.dimension25=DataKey.dimension25),DataKey.hasOwnProperty("dimension26")&&(window.dimension26=DataKey.dimension26),DataKey.hasOwnProperty("dimension27")&&(window.dimension27=DataKey.dimension27),e&&void 0!==e.originalEvent&&localStorage.setItem("nms_banner_tag",window.bannerKeyData)}}function GiftListResp(listResponse){if(Object.keys(listResponse).length>1&&"Success"==listResponse.status&&(listResponse.hasOwnProperty("result"),listResponse.result.hasOwnProperty("egiftList"))){var html="",scrollLength=listResponse.result.egiftList.length,sectionId=$(".giftcard_list").closest("section").find(".gtm_data").attr("data-id");if($.each(listResponse.result.egiftList,(function(index,value){var egift_desc="",egift_discount_price="",egift_id="",egift_price="",egift_title="",image="",position="";value.hasOwnProperty("egift_id")&&value.hasOwnProperty("image")&&null!=value.image&&(egift_id=value.egift_id,value.hasOwnProperty("egift_title")&&(egift_title=value.egift_title),value.hasOwnProperty("egift_desc")&&(egift_desc=value.egift_desc),value.hasOwnProperty("egift_price")&&(egift_price=value.egift_price),value.hasOwnProperty("egift_discount_price")&&(egift_discount_price=value.egift_discount_price),value.hasOwnProperty("image")&&(image=value.image),value.hasOwnProperty("position")&&(position=value.position),html+="<div class='swiper-slide ripple_effect home-item-info' id='item_"+sectionId+"_"+value.egift_id+"'>",html+="<a href='/customer/giftcard/purchase#"+value.egift_id+"' title='"+egift_title+"'> <img class='banner_img' src='"+image+"' data-sizes='auto' title='"+egift_title+"' alt='"+egift_title+"'> </a>",html+="</div>")})),""!=html&&($(".giftcard_list .swiper-wrapper").html(html),scrollLength>0))var swiper=new Swiper(".giftcard_banner",{slidesPerView:"auto",spaceBetween:0,on:{slideChange:function(){var gtmStatus="0";$("#gtm_status").length>0&&(gtmStatus=$("#gtm_status").val()),"1"==gtmStatus&&$(this.slides[this.activeIndex]).each((function(index,element){if(1==elementViewport(element)){var index=$($(element).closest(".swiper-container").find(".swiper-slide")).index($(element).closest(".swiper-slide")),slideId="";if($(element).attr("id")&&(slideId=$(element).attr("id")),""!=slideId&&-1===$.inArray(slideId,window.slideExists)){var type="banner_img";window.slideExists.push(slideId),SwiperDataLayer(element,index,type)}}}))}}})}}function giftProductList(){if($(".giftcard_list").length>0){var callback=!1,gifturl="/api/v1/offers/egiftlist";$("#egift_url").length>0&&(gifturl=$("#egift_url").val()),$(".giftcard_list").each((function(){0==callback&&$(this).find(".giftcard_banner .swiper-wrapper .swiper-slide").length<1&&(Object.keys(window.listResponse).length>0?GiftListResp(window.listResponse):$.ajax({url:gifturl,method:"GET",timeout:0,success:function(response){response&&(window.listResponse=response,GiftListResp(listResponse))},error:function(textStatus,errorThrown){}}),callback=!0)}))}}function nrrPureGAEvents(query=""){if(0==window.noresult){var event="",category="",action="",label="",categoryList="";if(event="event_plp_page",category="error",action="plp - no results",void 0!==bannerPromoTag&&(bannerPromoTag(),null!=window.dimension24&&null!=window.dimension24&&""!=window.dimension24&&(label="promotion list- "+window.dimension24)),$("body").hasClass("search-result-page")&&(null!=window.dimension24&&null!=window.dimension24&&""!=window.dimension24||(label="search list")),($("body").hasClass("otc-list-page")||$("body").hasClass("top-deals-list"))&&(null==window.dimension24||null==window.dimension24||""==window.dimension24)){if(null!=window.bread_crumbs&&null!=window.bread_crumbs&&window.bread_crumbs.length>0){let breadCrumbs=window.bread_crumbs;breadCrumbs[1]&&breadCrumbs[1].level&&1==breadCrumbs[1].level&&breadCrumbs[1].hasOwnProperty("name")&&null!=breadCrumbs[1].name&&""!=breadCrumbs[1].name&&(categoryList+=breadCrumbs[1].name),breadCrumbs[2]&&breadCrumbs[2].level&&2==breadCrumbs[2].level&&breadCrumbs[2].hasOwnProperty("name")&&null!=breadCrumbs[2].name&&""!=breadCrumbs[2].name&&(categoryList+="/"+breadCrumbs[2].name),breadCrumbs[3]&&breadCrumbs[3].level&&3==breadCrumbs[3].level&&breadCrumbs[3].hasOwnProperty("name")&&null!=breadCrumbs[3].name&&""!=breadCrumbs[3].name&&(categoryList+="/"+breadCrumbs[3].name)}label="category list - "+categoryList}"undefined"!=typeof NewSearchPurelyGtmEvents&&(NewSearchPurelyGtmEvents("plp",event,"error",action,label,query),window.noresult=!0)}}$("#delivery_details").click((function(){$("#rel_pin_msg").html(""),$(".jio_delivery_popup").before('<div class="overlay_bg"></div>'),$(".jio_delivery_popup").show(),first_click&&(first_click=!1,get_address_details())})),$("header .logged a").click((function(){var url=new Url,path=url.path,query=url.query;query&&(path=path+"?"+query),path&&localStorage.setItem("redirectUrl",path)})),$(document).on("submit",".aa-Form",(function(ev){ev.preventDefault();var search=$(".aa-Input").val();if(""==search);else{search=search.toString().replace(/%/g,"~pct~"),search=encodeURIComponent(search);var url="";url="plp"==page_type?"/catalogsearch/result_plp?q="+search:"/catalogsearch/result?q="+search,localStorage.getItem("jio_store_id")&&(url+="&str_id="+localStorage.getItem("jio_store_id")),window.location.href=url}})),$(document).on("click tap",".auto-suggestion",(function(){var queryId=$(this).attr("data-queryid");if(queryId&&""!=queryId){var user_id=localStorage.getItem("userid");0!=user_id&&null!=user_id||(user_id=$.cookie("_ALGOLIA")?$.cookie("_ALGOLIA"):"0");var pos_elem,position=$(".auto-suggestion").index($(this));position=parseInt(position)+1;var keyword=$(this).find(".search-text").clone();keyword.find("span").length>0&&keyword.find("span").remove();var keyword_txt=keyword.text(),index_name=window.algolia_suffix+"_query_suggestions",src=["web",localStorage.getItem("nms_mgo_pincode")],master_code=window.default_vertical_city_code;for(var vertical in localStorage.getItem("jio_region_codes")&&(master_code=JSON.parse(localStorage.getItem("jio_region_codes"))),master_code)if(null!=master_code[vertical])for(let k in master_code[vertical])src.push(master_code[vertical][k]);aa("clickedObjectIDsAfterSearch",{userToken:user_id,eventName:"Suggestion Clicked",index:index_name,queryID:queryId,objectIDs:[keyword_txt],positions:[position],analyticsTags:src})}})),$(document).on("click",".prod-name",(function(){var queryId=$(this).attr("data-queryid");if(queryId&&""!=queryId){var user_id=localStorage.getItem("userid");0!=user_id&&null!=user_id||(user_id=$.cookie("_ALGOLIA")?$.cookie("_ALGOLIA"):"0");var pos_elem,position=$(".prod-name").index($(this));position=parseInt(position)+1;var objectId=$(this).attr("data-objid"),index_name=window.algolia_suffix+"_master_vertical";localStorage.getItem("nms_alg_indexname")&&(index_name=localStorage.getItem("nms_alg_indexname"));var algolia_queryId=objectId+":"+queryId;localStorage.setItem("nms_alg_queryId",algolia_queryId);var src=["web",localStorage.getItem("nms_mgo_pincode")],master_code=window.default_vertical_city_code;for(var vertical in localStorage.getItem("jio_region_codes")&&(master_code=JSON.parse(localStorage.getItem("jio_region_codes"))),master_code)if(null!=master_code[vertical])for(let k in master_code[vertical])src.push(master_code[vertical][k]);aa("clickedObjectIDsAfterSearch",{userToken:user_id,eventName:"Product Viewed",index:index_name,queryID:queryId,objectIDs:[objectId],positions:[position],analyticsTags:src})}})),$(document).on("click tap",(function(e){var isClicked=!1,gtmStatus;if("1"==document.getElementById("gtm_status").value&&$("body").hasClass("cms-faqs")){var event="event_customer_service_action",category="faqs",action="",label="";if($(".faq-menu1").find(e.target).length>0&&$(e.target).closest(".faqMenu").find("h3").length>0&&(action="faqs clicked",label=$(e.target).closest(".faqMenu").find("h3").text().toLowerCase()+"_"+$(e.target).text().toLowerCase(),isClicked=!0),$(e.target).hasClass("log_complaint")&&(action="log a complaint clicked",label="faqs_log_a_complaint_clicked",isClicked=!0),$(e.target).hasClass("previous_complaint")&&(action="see complaint clicked",label="faqs_see_complaint_clicked",isClicked=!0),isClicked){void 0!==journeyDataLayer&&journeyDataLayer();var pincode=null!=localStorage.getItem("nms_mgo_pincode")?localStorage.getItem("nms_mgo_pincode"):"NA",page_type="faqs",platform="web";$("body").hasClass("nms-mobistore")&&(platform="msite"),null!=localStorage.getItem("jio_app_os")&&null!=localStorage.getItem("jio_app_os")&&(platform=localStorage.getItem("jio_app_os"));var userID=null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")?localStorage.getItem("userid"):"",login_status=null!=localStorage.getItem("userid")&&"0"!=localStorage.getItem("userid")?"logged in":"not logged in";dataLayer.push({event:event,journey:window.journeyData,category:"faqs",action:action,label:label,pincode:pincode,page_type:"faqs",platform:platform,"user ID":userID,login_status:login_status})}}})),$(document).ready((function(){void 0!==giftProductList&&giftProductList()})),$(document).ready((function(){$(".offer-heading").click((function(){$(this).next("div").is(":visible")?$(this).next("div").slideUp("normal"):($(".offer-txt").slideUp("normal"),$(this).next("div").slideToggle("normal"))}))})),$(document).on("click tap","#customer-CX .available-offers",(function(e){$("#avail_offers_dialog").modal({show:!0,backdrop:"static"})})),$(window).on("load",(function(){($("body").hasClass("otc-list-page")||$("body").hasClass("top-deals-list")||$("body").hasClass("search-result-page"))&&$(".empty_listing").is(":visible")&&void 0!==nrrPureGAEvents&&nrrPureGAEvents()})),$(document).on("click tap","#doorstep_popup_btn",(function(){$("#doorstep_finance").length,"true"==$("#doorstep_finance").val()&&($(this).addClass("active"),$.ajax({url:window.location.origin+"/catalog/doorstepfinance/index",type:"GET",cache:!0,headers:{"Content-Type":"application/json"}}).done((function(response){var resp=JSON.parse(response);"success"==resp.status&&resp.hasOwnProperty("result")&&resp.result&&($("#doorstep_finance_request .modal-content").html(""),$("#doorstep_finance_request .modal-content").html(resp.result),$("#doorstep_finance_request").modal({show:!0})),$("#doorstep_popup_btn").removeClass("active")})).fail((function(data){$("#doorstep_finance_request").modal({show:!1}),$("#doorstep_popup_btn").removeClass("active")})))}));